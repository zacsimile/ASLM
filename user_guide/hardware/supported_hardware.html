<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Supported Hardware &mdash; navigate 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Microscope Implementations" href="implementations.html" />
    <link rel="prev" title="Hardware" href="hardware_home.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            navigate
              <img src="../../_static/mic.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_installation.html">Software Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gui_walkthrough.html">User Interface Walkthrough</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../setup_microscope.html">Setting Up A Microscope</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../software_configuration.html">Configuration Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="hardware_home.html">Hardware</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Supported Hardware</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-acquisition-card">Data Acquisition Card</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cameras">Cameras</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remote-focusing-devices">Remote Focusing Devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stages">Stages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-wheels">Filter Wheels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#galvanometers">Galvanometers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lasers">Lasers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shutters">Shutters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mechanical-zoom">Mechanical Zoom</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deformable-mirrors">Deformable Mirrors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="implementations.html">Microscope Implementations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../acquiring_home.html">Acquiring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case_studies/case_studies_home.html">Case Studies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_guidelines.html">Contributing Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/feature_container.html">Feature Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin/plugin_home.html">Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">navigate</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../setup_microscope.html">Setting Up A Microscope</a></li>
          <li class="breadcrumb-item"><a href="hardware_home.html">Hardware</a></li>
      <li class="breadcrumb-item active">Supported Hardware</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user_guide/hardware/supported_hardware.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="supported-hardware">
<h1>Supported Hardware<a class="headerlink" href="#supported-hardware" title="Permalink to this heading"></a></h1>
<section id="data-acquisition-card">
<h2>Data Acquisition Card<a class="headerlink" href="#data-acquisition-card" title="Permalink to this heading"></a></h2>
<p>Data acquisition cards control analog and digital inputs and outputs. The software
uses them for hardware-timed control of voice coil and galvo mirror sweeping synced
with camera acquisition and, optionally, stage movements.</p>
<section id="ni">
<span id="hardware-ni"></span><h3>NI<a class="headerlink" href="#ni" title="Permalink to this heading"></a></h3>
<p>We have used several different NI-based data acquisition cards to run the software.
These include PCIe-6738, PXIe-6259, and PXIe-6733. Prior to installing the card within
the computer, first install the <a class="reference external" href="https://www.ni.com/en-us/support/downloads/drivers/download.ni-daqmx.html#464560">NI-DAQmx drivers</a>.
Once installed, connect the PCIe or PXIe-based device to the computer. A functioning
system should be recognized by the operating system, and visible in the Windows Device
Manager as a <strong>NI Data Acquisition Device</strong>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To find the device pin outs for your NI-based data acquisition card, open up NI
MAX, find the card under devices, right-click and select “device pin outs”.</p>
<p>Important: Should you use the SCB-68A breakout box, do not look at the pinout on
the back of the cover. This is misleading. You must look at the device pinouts in
NI MAX.</p>
</div>
<p>The most important aspect is to wire up the triggering properly. The software first
calculates all of the analog and digital waveforms, creates the NI tasks, and then
queues these waveforms on the data acquisition board. Upon receipt of a trigger, all
of the analog an digital tasks are delivered in parallel. This provides us with
deterministic behavior on a per-frame basis, which is necessary for proper ASLM-style
acquisitions. It does not however provide us with deterministic behavior between image
frames, and some jitter in timing is anticipated.</p>
<p>Wiring</p>
<ul class="simple">
<li><p>Identify the device name in NI MAX, and change it if you would like. Common names are
<code class="docutils literal notranslate"><span class="pre">Dev1</span></code>, <code class="docutils literal notranslate"><span class="pre">Dev2</span></code>, etc. This name must correspond with the pinouts provided in the
configuration file.</p></li>
<li><p>Connect the <code class="docutils literal notranslate"><span class="pre">master_trigger_out_line</span></code> to the <code class="docutils literal notranslate"><span class="pre">trigger_source</span></code> with a direct wire,
commonly <code class="docutils literal notranslate"><span class="pre">PXI6259/port0/line1</span></code> and <code class="docutils literal notranslate"><span class="pre">/PXI6259/PFI0</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For NI-based cards, <code class="docutils literal notranslate"><span class="pre">port0/line1</span></code> is the equivalent of <code class="docutils literal notranslate"><span class="pre">P0.1</span></code>.
There are multiple pins for each PFIO, including source, out, gate, etc. You must
use the out terminal.</p>
</div>
<section id="pcie-6738">
<h4>PCIe-6738<a class="headerlink" href="#pcie-6738" title="Permalink to this heading"></a></h4>
<p>The PCIe-6738 can only create one software-timed analog task for every four channels.
As such, the lasers much be attached to analog output ports outside of the banks used
by the galvo/remote focus units. For example, if you use ao0, ao2, and ao6 for the
remote focus, galvo, and galvo stage, the lasers should be connected to ao8, ao9, and
ao10. In such a configuration, they will not compete with the other analog output
ports. Since only one task will be created created on the ao8, ao9, ao10 bank at a time
(only one laser is on at a time), only one laser can be on at a time. If we wanted to
turn lasers on simultaneously, we could distribute the lasers across independent banks
(e.g. ao8, ao14, ao19).</p>
</section>
<section id="pxi-6259">
<h4>PXI-6259<a class="headerlink" href="#pxi-6259" title="Permalink to this heading"></a></h4>
<p>The PXI-6259 can create one software-timed analog task per channel. As such, the
galvo/remote focus/lasers can be attached to any of the analog output ports.</p>
</section>
<section id="pxi-6723">
<h4>PXI-6723<a class="headerlink" href="#pxi-6723" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>Connect the <code class="docutils literal notranslate"><span class="pre">master_trigger_out_line</span></code> to the <code class="docutils literal notranslate"><span class="pre">trigger_source</span></code> with a direct wire,
commonly <code class="docutils literal notranslate"><span class="pre">PXI6723/port0/line1</span></code> and <code class="docutils literal notranslate"><span class="pre">/PXI6723/PFI0</span></code>. With an SCB-68A breakout box,
connect pin 17 directly to pin 11.</p></li>
<li><p>Connect the <code class="docutils literal notranslate"><span class="pre">camera_trigger_out_line</span></code> to the <code class="docutils literal notranslate"><span class="pre">Ext.</span> <span class="pre">Trigger</span></code> on the camera using
the <code class="docutils literal notranslate"><span class="pre">CTR0Out</span></code> pin. With an SCB-68A breakout box, the positive lead is pin 2, the
ground is pin 36.</p></li>
</ul>
</section>
<section id="configuration-file">
<h4>Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">daq</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">daq</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>
<span class="w">      </span><span class="nt">sample_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span>
<span class="w">      </span><span class="nt">sweep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>

<span class="w">      </span><span class="c1"># triggers</span>
<span class="w">      </span><span class="nt">master_trigger_out_line</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCI6738/port0/line1</span><span class="w"> </span><span class="c1"># Should exactly match both name and port</span>
<span class="w">      </span><span class="nt">camera_trigger_out_line</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/PCI6738/ctr0</span><span class="w"> </span><span class="c1"># Should exactly match both name and port</span>
<span class="w">      </span><span class="nt">trigger_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/PCI6738/PFI0</span><span class="w"> </span><span class="c1"># Should exactly match both name and port</span>

<span class="w">      </span><span class="c1"># Digital Laser Outputs</span>
<span class="w">      </span><span class="nt">laser_port_switcher</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCI6738/port0/line0</span>
<span class="w">      </span><span class="nt">laser_switch_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="cameras">
<h2>Cameras<a class="headerlink" href="#cameras" title="Permalink to this heading"></a></h2>
<p>The software supports camera-based acquisition. It can run both normal and rolling
shutter modes of contemporary scientific CMOS cameras.</p>
<section id="hamamatsu-flash-4-0-v3-fusion">
<h3>Hamamatsu Flash 4.0 v3/Fusion<a class="headerlink" href="#hamamatsu-flash-4-0-v3-fusion" title="Permalink to this heading"></a></h3>
<ul>
<li><p>Insert the USB that came with the camera into the computer and install HCImageLive.</p></li>
<li><p>When prompted with the DCAM-API Setup</p>
<blockquote>
<div><ul class="simple">
<li><p>Install the Active Silicon Firebird drivers for the FrameGrabber</p></li>
<li><p>Select … next to the tools button, and install DCAM tools onto the computer.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Shutdown the computer and install the Hamamatsu frame grabber into an appropriate
PCIe-x16 slot on the motherboard.</p></li>
<li><p>Turn on the computer and the camera, and confirm that it is functioning properly in
HCImageLive or Excap (one of the DCAM tools installed)</p></li>
<li><p>Connect the <cite>camera_trigger_out_line</cite> to the External Trigger of the Hamamatsu
Camera. Commonly, this is done with a counter port, e.g., <code class="docutils literal notranslate"><span class="pre">/PXI6259/ctr0</span></code></p></li>
</ul>
<section id="id1">
<h4>Configuration File<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">camera</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HamamatsuOrca</span><span class="w"> </span><span class="c1"># First Camera</span>
<span class="w">      </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">302153</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">camera</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">camera</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HamamatsuOrca</span>
<span class="w">        </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">302153</span>
<span class="w">      </span><span class="nt">x_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2048.0</span>
<span class="w">      </span><span class="nt">y_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2048.0</span>
<span class="w">      </span><span class="nt">flip_x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">      </span><span class="nt">flip_y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<span class="w">      </span><span class="nt">pixel_size_in_microns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.5</span>
<span class="w">      </span><span class="nt">subsampling</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">4</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">sensor_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Normal</span><span class="w">  </span><span class="c1"># 12 for progressive, 1 for normal. Normal/Light-Sheet</span>
<span class="w">      </span><span class="nt">readout_direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Top-to-Bottom</span><span class="w">  </span><span class="c1"># Top-to-Bottom&#39;, &#39;Bottom-to-Top&#39;</span>
<span class="w">      </span><span class="nt">lightsheet_rolling_shutter_width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">608</span>
<span class="w">      </span><span class="nt">defect_correct_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">      </span><span class="nt">binning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1x1</span>
<span class="w">      </span><span class="nt">readout_speed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
<span class="w">      </span><span class="nt">trigger_active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">      </span><span class="nt">trigger_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w"> </span><span class="c1"># external light-sheet mode</span>
<span class="w">      </span><span class="nt">trigger_polarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># positive pulse</span>
<span class="w">      </span><span class="nt">trigger_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># 2 = external, 3 = software.</span>
<span class="w">      </span><span class="nt">exposure_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"> </span><span class="c1"># Use milliseconds throughout.</span>
<span class="w">      </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">      </span><span class="nt">pulse_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">line_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.000075</span>
<span class="w">      </span><span class="nt">display_acquisition_subsampling</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">average_frame_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.969</span>
<span class="w">      </span><span class="nt">frames_to_average</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">exposure_time_range</span><span class="p">:</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">        </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">x_pixels_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">y_pixels_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">x_pixels_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">y_pixels_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
</pre></div>
</div>
</section>
</section>
<section id="hamamatsu-lightning">
<h3>Hamamatsu Lightning<a class="headerlink" href="#hamamatsu-lightning" title="Permalink to this heading"></a></h3>
<p>The Hamamatsu Lightning has a slightly different class than the Flash/Fusion as it
reads out 4 rows at a time rather than 1 in rolling shutter mode.</p>
<section id="id2">
<h4>Configuration File<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">camera</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">HamamatsuOrcaLightning</span>
<span class="w">      </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">000035</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">camera</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">camera</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HamamatsuOrcaLightning</span>
<span class="w">        </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">000035</span>
<span class="w">      </span><span class="nt">x_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4608.0</span>
<span class="w">      </span><span class="nt">y_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2592.0</span>
<span class="w">      </span><span class="nt">pixel_size_in_microns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.5</span>
<span class="w">      </span><span class="nt">subsampling</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">4</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">sensor_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Normal</span><span class="w">  </span><span class="c1"># 12 for progressive, 1 for normal.</span>
<span class="w">      </span><span class="nt">readout_direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bottom-to-Top</span><span class="w">  </span><span class="c1"># Top-to-Bottom&#39;, &#39;Bottom-to-Top&#39;</span>
<span class="w">      </span><span class="nt">lightsheet_rolling_shutter_width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">608</span>
<span class="w">      </span><span class="nt">defect_correct_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
<span class="w">      </span><span class="nt">binning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1x1</span>
<span class="w">      </span><span class="nt">readout_speed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x7FFFFFFF</span>
<span class="w">      </span><span class="nt">trigger_active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">      </span><span class="nt">trigger_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w"> </span><span class="c1"># external light-sheet mode</span>
<span class="w">      </span><span class="nt">trigger_polarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># positive pulse</span>
<span class="w">      </span><span class="nt">trigger_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># 2 = external, 3 = software.</span>
<span class="w">      </span><span class="nt">exposure_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"> </span><span class="c1"># Use milliseconds throughout.</span>
<span class="w">      </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w"> </span><span class="c1">#5.0</span>
<span class="w">      </span><span class="nt">pulse_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">line_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.000075</span>
<span class="w">      </span><span class="nt">display_acquisition_subsampling</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">average_frame_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.969</span>
<span class="w">      </span><span class="nt">frames_to_average</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">exposure_time_range</span><span class="p">:</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">        </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
</section>
</section>
<section id="photometrics-iris-15">
<h3>Photometrics Iris 15<a class="headerlink" href="#photometrics-iris-15" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Download the <a class="reference external" href="https://www.photometrics.com/support/software-and-drivers">PVCAM software</a>
from Photometrics. The PVCAM SDK is also available form this location. You will
likely have to register and agree to Photometrics terms.</p></li>
<li><p>Perform the Full Installation of the PVCAM software.</p></li>
<li><p>Should a “Base Device” still show up as unknown in the Windows Device Manager, you
may need to install the <a class="reference external" href="https://www.broadcom.com/products/pcie-switches-bridges/software-dev-kits">Broadcom PCI/PCIe Software Development Kit</a></p></li>
<li><p>Upon successful installation, one should be able to acquire images with the
manufacturer-provided PVCamTest software.</p></li>
</ul>
<section id="id3">
<h4>Configuration File<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">camera</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Photometrics</span>
<span class="w">  </span><span class="nt">camera_connection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PMPCIECam00</span>
<span class="w">  </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="nt">camera</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">camera</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Photometrics</span>
<span class="w">      </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">x_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5056.0</span>
<span class="w">    </span><span class="nt">y_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2960.0</span>
<span class="w">    </span><span class="nt">pixel_size_in_microns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.25</span>
<span class="w">    </span><span class="nt">subsampling</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">4</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">sensor_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Normal</span>
<span class="w">    </span><span class="nt">readout_direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bottom-to-Top</span>
<span class="w">    </span><span class="nt">lightsheet_rolling_shutter_width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">608</span>
<span class="w">    </span><span class="nt">defect_correct_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
<span class="w">    </span><span class="nt">binning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1x1</span>
<span class="w">    </span><span class="nt">readout_speed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x7FFFFFFF</span>
<span class="w">    </span><span class="nt">trigger_active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">    </span><span class="nt">trigger_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">    </span><span class="nt">trigger_polarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
<span class="w">    </span><span class="nt">trigger_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
<span class="w">    </span><span class="nt">exposure_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">    </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">25</span>
<span class="w">    </span><span class="nt">pulse_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">line_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.000075</span>
<span class="w">    </span><span class="nt">display_acquisition_subsampling</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">    </span><span class="nt">average_frame_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.969</span>
<span class="w">    </span><span class="nt">frames_to_average</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">exposure_time_range</span><span class="p">:</span>
<span class="w">      </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">      </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
</section>
</section>
<section id="synthetic-camera">
<h3>Synthetic Camera<a class="headerlink" href="#synthetic-camera" title="Permalink to this heading"></a></h3>
<p>The synthetic camera simulates noise images from an sCMOS camera.</p>
<section id="id4">
<h4>Configuration File<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">camera</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SyntheticCamera</span>
<span class="w">  </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12345</span>

<span class="w w-Error"> </span><span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">camera</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">camera</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SyntheticCamera</span>
<span class="w">        </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12345</span>
<span class="w">      </span><span class="nt">x_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2048.0</span>
<span class="w">      </span><span class="nt">y_pixels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2048.0</span>
<span class="w">      </span><span class="nt">flip_x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">      </span><span class="nt">flip_y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<span class="w">      </span><span class="nt">pixel_size_in_microns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.5</span>
<span class="w">      </span><span class="nt">subsampling</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">4</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">sensor_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Normal</span><span class="w">  </span><span class="c1"># 12 for progressive, 1 for normal. Normal/Light-Sheet</span>
<span class="w">      </span><span class="nt">readout_direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Top-to-Bottom</span><span class="w">  </span><span class="c1"># Top-to-Bottom&#39;, &#39;Bottom-to-Top&#39;</span>
<span class="w">      </span><span class="nt">lightsheet_rolling_shutter_width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">608</span>
<span class="w">      </span><span class="nt">defect_correct_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">      </span><span class="nt">binning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1x1</span>
<span class="w">      </span><span class="nt">readout_speed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
<span class="w">      </span><span class="nt">trigger_active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">      </span><span class="nt">trigger_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w"> </span><span class="c1"># external light-sheet mode</span>
<span class="w">      </span><span class="nt">trigger_polarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># positive pulse</span>
<span class="w">      </span><span class="nt">trigger_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># 2 = external, 3 = software.</span>
<span class="w">      </span><span class="nt">exposure_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"> </span><span class="c1"># Use milliseconds throughout.</span>
<span class="w">      </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">      </span><span class="nt">pulse_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">line_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.000075</span>
<span class="w">      </span><span class="nt">display_acquisition_subsampling</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">average_frame_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.969</span>
<span class="w">      </span><span class="nt">frames_to_average</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">exposure_time_range</span><span class="p">:</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">        </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">x_pixels_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">y_pixels_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">x_pixels_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">y_pixels_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="remote-focusing-devices">
<h2>Remote Focusing Devices<a class="headerlink" href="#remote-focusing-devices" title="Permalink to this heading"></a></h2>
<p>Voice coils, also known as linear actuators, play a crucial role in implementing
aberration-free remote focusing in navigate. These electromagnetic actuators are used
to control the axial position of the light-sheet and the sample relative to the
microscope objective lens. By precisely adjusting the axial position, the focal plane
can be shifted without moving the objective lens, thus enabling remote focusing.</p>
<section id="equipment-solutions">
<h3>Equipment Solutions<a class="headerlink" href="#equipment-solutions" title="Permalink to this heading"></a></h3>
<p>Configuration can be variable. Many of the voice coils we have received require
establishing serial communication with the device to explicitly place it in an analog
control mode. More recently, Equipment Solutions has begun delivering devices that
automatically initialize into an analog control mode, and thus no longer need the
serial communication to be established. However, we often communicate via both
serial and a DAQ port to get this device to run.</p>
<ul>
<li><p><a class="reference external" href="https://www.equipsolutions.com/products/linear-servo-controllers/sca814-linear-servo-controller/">SCA814 Linear Servo Controller</a></p>
<blockquote>
<div><ul class="simple">
<li><p>+/- 2.5 Volt Analog Input</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://www.equipsolutions.com/products/linear-focus-actuators/lfa-2010-linear-focus-actuator/">LFA-2010 Linear Focus Actuator</a></p></li>
</ul>
<section id="id5">
<h4>Configuration File<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">remote_focus_device</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote_focus</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EquipmentSolutions</span>
<span class="w">        </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCI6738/ao2</span>
<span class="w">        </span><span class="nt">comport</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM7</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-5</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">      </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7.5</span>
<span class="w">      </span><span class="nt">ramp_rising_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">85</span>
<span class="w">      </span><span class="nt">ramp_falling_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span>
<span class="w">      </span><span class="nt">amplitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.7</span>
<span class="w">      </span><span class="nt">offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.3</span>
<span class="w">      </span><span class="nt">smoothing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>
</pre></div>
</div>
</section>
</section>
<section id="thorlabs-blink">
<h3>Thorlabs BLINK<a class="headerlink" href="#thorlabs-blink" title="Permalink to this heading"></a></h3>
<p>The <a class="reference external" href="https://www.thorlabs.com/thorproduct.cfm?partnumber=BLINK">BLINK</a> is a
pneumatically actuated voice coil that is controlled with analog control signals.</p>
</section>
<section id="optotune-focus-tunable-lens">
<h3>Optotune Focus Tunable Lens<a class="headerlink" href="#optotune-focus-tunable-lens" title="Permalink to this heading"></a></h3>
<p><a class="reference external" href="https://www.optotune.com/tunable-lenses">These devices</a> are controlled with an
analog signal from the DAQ.</p>
<section id="id6">
<h4>Configuration File<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="nt">daq</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>

<span class="nt">remote_focus_device</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>
<span class="w">      </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PXI6259/ao2</span>
<span class="w">      </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-5</span>
<span class="w">      </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">    </span><span class="c1"># Optotune EL-16-40-TC-VIS-5D-1-C</span>
<span class="w">    </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7.5</span>
<span class="w">    </span><span class="nt">ramp_rising_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">85</span>
<span class="w">    </span><span class="nt">ramp_falling_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.5</span>
<span class="w">    </span><span class="nt">amplitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.7</span>
<span class="w">    </span><span class="nt">offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.3</span>
<span class="w">    </span><span class="nt">smoothing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>
</pre></div>
</div>
</section>
</section>
<section id="synthetic-remote-focus-device">
<h3>Synthetic Remote Focus Device<a class="headerlink" href="#synthetic-remote-focus-device" title="Permalink to this heading"></a></h3>
</section>
</section>
<section id="stages">
<h2>Stages<a class="headerlink" href="#stages" title="Permalink to this heading"></a></h2>
<p>Our software empowers users with a flexible solution for configuring
multiple stages, catering to diverse microscope modalities. Each stage can be
customized to suit the specific requirements of a particular modality or shared
across  various modalities. Our unique approach allows seamless integration of stages
from different manufacturers, enabling users to mix and match components for a truly
versatile and optimized setup tailored to their research needs.</p>
<section id="asi-tiger-controller">
<h3>ASI Tiger Controller<a class="headerlink" href="#asi-tiger-controller" title="Permalink to this heading"></a></h3>
<p>We are set up to communicate with ASI stages via their
<a class="reference external" href="https://www.asiimaging.com/controllers/tiger-controller/">Tiger Controller</a>.</p>
<p>There is a <code class="docutils literal notranslate"><span class="pre">feedback_alignment</span></code> configuration option specific to these stages,
which corresponds to the <a class="reference external" href="https://asiimaging.com/docs/commands/aalign">Tiger Controller AA Command</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are using the FTP-2000 stage, you should not change the F stage axis. This
will differentially drive the two vertical posts, causing them to torque and
potentially damage one another.</p>
</div>
<section id="id7">
<h4>Configuration File<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ASI</span>
<span class="w">    </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">123456789</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM8</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">115200</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ASI</span>
<span class="w">        </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">123456789</span>
<span class="w">        </span><span class="nt">axes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">x</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">y</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">z</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">f</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># Software</span>
<span class="w">        </span><span class="nt">axes_mapping</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">M</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Y</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">X</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Z</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">feedback_alignment</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">90</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">90</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">90</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">90</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</section>
</section>
<section id="sutter-mp-285">
<h3>Sutter MP-285<a class="headerlink" href="#sutter-mp-285" title="Permalink to this heading"></a></h3>
<p>The <a class="reference external" href="https://www.sutter.com/MICROMANIPULATION/mp285.html">Sutter MP-285</a> communicates
via serial port and is quite particular. We have done our best to ensure the
communication is stable, but occasionally the stage will send or receive an extra
character, throwing off communication. In this case, the MP-285’s screen will be
covered in 0s, 1s or look garbled. If this happens, simply turn off the software,
power cycle the stage, and press the “MOVE” button on the MP-285 controller once. When
the software is restarted, it should work.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Sometimes the Coherent Connection software messes with the MP-285 serial
communication if it is connected to the lasers.</p>
</div>
<section id="id9">
<h4>Configuration File<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MP285</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM2</span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9600</span>
<span class="w">    </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0000</span>
<span class="w">    </span><span class="nt">stages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage1</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MP285</span>
<span class="w">        </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0000</span>
<span class="w">        </span><span class="nt">axes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">y</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">x</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">f</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">axes_mapping</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">z</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">y</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">x</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">volts_per_micron</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">        </span><span class="nt">axes_channels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">25000</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</section>
</section>
<section id="physik-instrumente">
<h3>Physik Instrumente<a class="headerlink" href="#physik-instrumente" title="Permalink to this heading"></a></h3>
<p>These stages are controlled by <a class="reference external" href="https://www.pi-usa.us/en/">PI</a>’s own
<a class="reference external" href="https://pypi.org/project/PIPython/">Python code</a> and are quite stable. They
include a special <code class="docutils literal notranslate"><span class="pre">hardware</span></code> option, <code class="docutils literal notranslate"><span class="pre">refmode</span></code>, which corresponds to how the
PI stage chooses to self-reference. Options are <code class="docutils literal notranslate"><span class="pre">REF</span></code>, <code class="docutils literal notranslate"><span class="pre">FRF</span></code>, <code class="docutils literal notranslate"><span class="pre">MNL</span></code>, <code class="docutils literal notranslate"><span class="pre">FNL</span></code>,
<code class="docutils literal notranslate"><span class="pre">MPL</span></code> or <code class="docutils literal notranslate"><span class="pre">FPL</span></code>. These are PI’s GCS commands, and the correct reference mode
for your stage should be found by launching PIMikroMove, which should come with
your stage. Stage names (e.g. <code class="docutils literal notranslate"><span class="pre">L-509.20DG10</span></code>) can also be found in PIMikroMove
or on a label on the side of your stage.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>PI L-509.20DG10 has a unidirectional repeatability of 100 nm, bidirectional
repeatability of 2 microns, and a minimum incremental motion of 100 nm.
This is potentially too coarse.</p>
</div>
<section id="id10">
<h4>Configuration File<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PI</span>
<span class="w">      </span><span class="nt">controllername</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">C-884</span>
<span class="w">      </span><span class="nt">stages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">L-509.20DG10 L-509.40DG10 L-509.20DG10 M-060.DG M-406.4PD NOSTAGE</span>
<span class="w">      </span><span class="nt">refmode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FRF FRF FRF FRF FRF FRF</span>
<span class="w">      </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">119060508</span>
<span class="w">    </span><span class="p p-Indicator">-</span>
<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PI</span>
<span class="w">        </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">119060508</span>
<span class="w">        </span><span class="nt">axes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">x</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">y</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">z</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">theta</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">f</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">y_unload_position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000</span>
<span class="w">      </span><span class="nt">y_load_position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90000</span>

<span class="w">      </span><span class="nt">startfocus</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">75000</span>
<span class="w">      </span><span class="nt">x_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span>
<span class="w">      </span><span class="nt">x_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-100000</span>
<span class="w">      </span><span class="nt">y_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span>
<span class="w">      </span><span class="nt">y_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-100000</span>
<span class="w">      </span><span class="nt">z_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span>
<span class="w">      </span><span class="nt">z_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-100000</span>
<span class="w">      </span><span class="nt">f_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span>
<span class="w">      </span><span class="nt">f_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">theta_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">360</span>
<span class="w">      </span><span class="nt">theta_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="nt">x_rot_position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000</span>
<span class="w">      </span><span class="nt">y_rot_position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000</span>
<span class="w">      </span><span class="nt">z_rot_position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000</span>

<span class="w">      </span><span class="nt">x_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500</span>
<span class="w">      </span><span class="nt">y_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500</span>
<span class="w">      </span><span class="nt">z_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500</span>
<span class="w">      </span><span class="nt">theta_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<span class="w">      </span><span class="nt">f_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500</span>

<span class="w">      </span><span class="nt">position</span><span class="p">:</span>
<span class="w">        </span><span class="nt">x_pos</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">25250</span>
<span class="w">        </span><span class="nt">y_pos</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">40000</span>
<span class="w">        </span><span class="nt">z_pos</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">40000</span>
<span class="w">        </span><span class="nt">f_pos</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">70000</span>
<span class="w">        </span><span class="nt">theta_pos</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">velocity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>

<span class="w">      </span><span class="nt">x_offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">y_offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">z_offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">f_offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">theta_offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</section>
</section>
<section id="thorlabs">
<h3>Thorlabs<a class="headerlink" href="#thorlabs" title="Permalink to this heading"></a></h3>
<p>We currently support the <a class="reference external" href="https://www.thorlabs.com/thorproduct.cfm?partnumber=KIM001">KIM001</a>
controller.</p>
<section id="id11">
<h4>Configuration File<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Thorlabs</span>
<span class="w">      </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">74000375</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Thorlabs</span>
<span class="w">            </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">74000375</span>
<span class="w">            </span><span class="nt">axes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">f</span><span class="p p-Indicator">]</span>
<span class="w">            </span><span class="nt">axes_mapping</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">]</span>
<span class="w">            </span><span class="nt">volts_per_micron</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">            </span><span class="nt">axes_channels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">            </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">            </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
</pre></div>
</div>
</section>
</section>
<section id="analog-controlled-galvo-piezo">
<span id="galvo-stage"></span><h3>Analog-Controlled Galvo/Piezo<a class="headerlink" href="#analog-controlled-galvo-piezo" title="Permalink to this heading"></a></h3>
<p>We sometimes control position via a galvo or piezo with no software API.
In this case, we treat a standard galvo mirror or piezo as a stage axis. We control the
“stage” via voltages sent to the galvo or piezo. The <code class="docutils literal notranslate"><span class="pre">volts_per_micron</span></code> setting
allows the user to pass an equation that converts position in microns <code class="docutils literal notranslate"><span class="pre">x</span></code>, which is
passed from the software stage controls, to a voltage. Note that we use
<code class="docutils literal notranslate"><span class="pre">GalvoNIStage</span></code> whether or not the device is a galvo or a piezo since the logic is
identical.</p>
<section id="id12">
<h4>Configuration File<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GalvoNIStage</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM9999</span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9600</span>
<span class="w">    </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0000</span>
<span class="w">    </span><span class="nt">stages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">    </span><span class="nt">distance_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">    </span><span class="nt">settle_duration_ms</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage3</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GalvoNIStage</span>
<span class="w">          </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0000</span>
<span class="w">          </span><span class="nt">axes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">z</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">axes_mapping</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">PCI6738/ao6</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1">#48/49</span>
<span class="w">          </span><span class="nt">volts_per_micron</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05*x</span>
<span class="w">          </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">          </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">          </span><span class="nt">distance_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">          </span><span class="nt">settle_duration_ms</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</section>
</section>
<section id="synthetic-stage">
<h3>Synthetic Stage<a class="headerlink" href="#synthetic-stage" title="Permalink to this heading"></a></h3>
<p>We use this to fake a stage.</p>
<section id="id13">
<h4>Configuration File<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">syntheticstage</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM9999</span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9600</span>
<span class="w">    </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0000</span>
<span class="w">    </span><span class="nt">stages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stage</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stage2</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">syntheticstage</span>
<span class="w">          </span><span class="nt">serial_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0000</span>
<span class="w">          </span><span class="nt">axes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">theta</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">axes_mapping</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">theta</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">360</span>
<span class="w">          </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="filter-wheels">
<h2>Filter Wheels<a class="headerlink" href="#filter-wheels" title="Permalink to this heading"></a></h2>
<p>Filter wheels can be used in both illumination and detection paths. Dichroic
turrets are controlled via the same code as filter wheels. The user is expected to
change the names of available filters to match what is in the filter wheel or turret.</p>
<section id="sutter">
<h3>Sutter<a class="headerlink" href="#sutter" title="Permalink to this heading"></a></h3>
<section id="id14">
<h4>Configuration File<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">filter_wheel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SutterFilterWheel</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM10</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9600</span>
<span class="w">    </span><span class="nt">number_of_wheels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">filter_wheel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">filter_wheel</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SutterFilterWheel</span>
<span class="w">      </span><span class="nt">wheel_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">filter_wheel_delay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.030</span><span class="w"> </span><span class="c1"># in seconds</span>
<span class="w">    </span><span class="nt">available_filters</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Empty-1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">525-30</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">600-52</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">      </span><span class="nt">670-30</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">      </span><span class="nt">647-LP</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">Empty-2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">      </span><span class="nt">Empty-3</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<span class="w">      </span><span class="nt">Empty-4</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
</pre></div>
</div>
</section>
</section>
<section id="asi">
<h3>ASI<a class="headerlink" href="#asi" title="Permalink to this heading"></a></h3>
<section id="id15">
<h4>Configuration File<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">filter_wheel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ASI</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM10</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">115200</span>
<span class="w">    </span><span class="nt">number_of_wheels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">filter_wheel</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">filter_wheel</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ASI</span>
<span class="w">        </span><span class="nt">wheel_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">filter_wheel_delay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.030</span><span class="w"> </span><span class="c1"># in seconds</span>
<span class="w">      </span><span class="nt">available_filters</span><span class="p">:</span>
<span class="w">        </span><span class="nt">BLU - FF01-442/42-32</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">        </span><span class="nt">GFP - FF01-515/30-32</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">        </span><span class="nt">RFP - FF01-595/31-32</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">        </span><span class="nt">Far-Red - FF01-670/30-32</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">        </span><span class="nt">Blocked1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">        </span><span class="nt">Empty</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">        </span><span class="nt">Blocked3</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<span class="w">        </span><span class="nt">Blocked4</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">        </span><span class="nt">Blocked5</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span>
<span class="w">        </span><span class="nt">Blocked6</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="galvanometers">
<h2>Galvanometers<a class="headerlink" href="#galvanometers" title="Permalink to this heading"></a></h2>
<p>Galvo mirrors are used for fast scanning and destriping and occasionally as stages
(see <a class="reference internal" href="#galvo-stage"><span class="std std-ref">Analog-Controlled Galvo/Piezo</span></a>).</p>
<section id="daq-control">
<h3>DAQ Control<a class="headerlink" href="#daq-control" title="Permalink to this heading"></a></h3>
<p>Multiple types of galvanometers have been used, including Cambridge
Technologies/Novanta, Thorlabs, and ScannerMAX Each of these devices
are externally controlled via analog signals delivered from a data
acquisition card.</p>
<section id="id16">
<h4>Configuration File<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">galvo</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span>
<span class="w">        </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>
<span class="w">          </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCI6738/ao0</span>
<span class="w">          </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-5</span>
<span class="w">          </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">        </span><span class="nt">waveform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sawtooth</span>
<span class="w">        </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">99.9</span>
<span class="w">        </span><span class="nt">amplitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.5</span>
<span class="w">        </span><span class="nt">offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>
<span class="w">        </span><span class="nt">duty_cycle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="w">        </span><span class="nt">phase</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.57079</span><span class="w"> </span><span class="c1"># pi/2</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="lasers">
<h2>Lasers<a class="headerlink" href="#lasers" title="Permalink to this heading"></a></h2>
<p>We currently support laser control via voltage signals. In the near-future, we will consider implementing
laser control via serial communication for power control, but digital modulation will still be controlled via
voltage signals.</p>
<section id="omicron-lighthub-ultra">
<h3>Omicron LightHUB Ultra<a class="headerlink" href="#omicron-lighthub-ultra" title="Permalink to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Omicron laser source includes both Coherent- and LuxX lasers, which vary
according to wavelength. LuxX lasers should be operated in an ACC operating
mode with the analog modulation option enabled. The Coherent Obis lasers should be
set in the mixed modulation mode.</p>
</div>
</section>
<section id="coherent-obis">
<h3>Coherent Obis<a class="headerlink" href="#coherent-obis" title="Permalink to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Coherent Obis lasers should be set in the mixed modulation mode. It is not uncommon
for the slew rate from the data acquisition card to be insufficient to drive the modulation
of the laser if the laser is set to an analog modulation mode.</p>
</div>
</section>
<section id="id17">
<h3>DAQ Control<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h3>
<p>Most lasers are controlled externally via mixed analog and digital modulation.
The <code class="docutils literal notranslate"><span class="pre">onoff</span></code> entry is for digital modulation. The <code class="docutils literal notranslate"><span class="pre">power</span></code> entry is for analog
modulation.</p>
<section id="id18">
<h4>Configuration File<a class="headerlink" href="#id18" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">lasers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">wavelength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">488</span>
<span class="w">        </span><span class="nt">onoff</span><span class="p">:</span>
<span class="w">          </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>
<span class="w">            </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCI6738/port1/line5</span><span class="w"> </span><span class="c1"># 7/41</span>
<span class="w">            </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">            </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">        </span><span class="nt">power</span><span class="p">:</span>
<span class="w">          </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>
<span class="w">            </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCI6738/ao8</span><span class="w"> </span><span class="c1">#1  # 44/11</span>
<span class="w">            </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">            </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Obis</span>
<span class="w">        </span><span class="nt">index</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">        </span><span class="nt">delay_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">        </span><span class="nt">pulse_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">87</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">wavelength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">561...</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="shutters">
<h2>Shutters<a class="headerlink" href="#shutters" title="Permalink to this heading"></a></h2>
<p>Shutters automatically open at the start of acquisition and close upon finish.</p>
<section id="id19">
<h3>Thorlabs<a class="headerlink" href="#id19" title="Permalink to this heading"></a></h3>
<p>Thorlabs shutters are controlled via a digital on off voltage.</p>
<section id="id20">
<h4>Configuration File<a class="headerlink" href="#id20" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">shutter</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NI</span>
<span class="w">        </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PXI6259/port0/line0</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</section>
</section>
<section id="synthetic-shutter">
<h3>Synthetic Shutter<a class="headerlink" href="#synthetic-shutter" title="Permalink to this heading"></a></h3>
<section id="id21">
<h4>Configuration File<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">shutter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daq</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">synthetic</span>
<span class="w">      </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PCIE6738/port0/line0</span>
<span class="w">      </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="mechanical-zoom">
<h2>Mechanical Zoom<a class="headerlink" href="#mechanical-zoom" title="Permalink to this heading"></a></h2>
<p>Zoom devices control the magnification of the microscope. If such control is not
needed, the software expects a <a class="reference internal" href="#synthetic-zoom"><span class="std std-ref">Synthetic Zoom</span></a> to provide
the fixed magnification and the effective pixel size of the microscope.</p>
<section id="dynamixel-zoom">
<h3>Dynamixel Zoom<a class="headerlink" href="#dynamixel-zoom" title="Permalink to this heading"></a></h3>
<p>This software supports the
<a class="reference external" href="https://www.dynamixel.com/">Dynamixel Smart Actuator</a>.</p>
<section id="id22">
<h4>Configuration File<a class="headerlink" href="#id22" title="Permalink to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">positions</span></code> specify the voltage of the actuator at different zoom positions.
The <code class="docutils literal notranslate"><span class="pre">stage_positions</span></code> account for focal shifts in between the different zoom values
(the MVXPLAPO does not have a consistent focal plane). These may change depending on
the immersion media. Here it is specified for a <code class="docutils literal notranslate"><span class="pre">BABB</span></code> (Benzyl Alcohol Benzyl
Benzoate) immersion media.  The <code class="docutils literal notranslate"><span class="pre">pixel_size</span></code> specifies the effective pixel size of
the system at each zoom.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zoom</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DynamixelZoom</span>
<span class="w">    </span><span class="nt">servo_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM18</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000000</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">zoom</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zoom</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DynamixelZoom</span>
<span class="w">          </span><span class="nt">servo_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">position</span><span class="p">:</span>
<span class="w">          </span><span class="nt">0.63x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">          </span><span class="nt">1x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">627</span>
<span class="w">          </span><span class="nt">2x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1711</span>
<span class="w">          </span><span class="nt">3x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2301</span>
<span class="w">          </span><span class="nt">4x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2710</span>
<span class="w">          </span><span class="nt">5x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3079</span>
<span class="w">          </span><span class="nt">6x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3383</span>
<span class="w">      </span><span class="nt">pixel_size</span><span class="p">:</span>
<span class="w">          </span><span class="nt">0.63x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9.7</span>
<span class="w">          </span><span class="nt">1x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.38</span>
<span class="w">          </span><span class="nt">2x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.14</span>
<span class="w">          </span><span class="nt">3x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.12</span>
<span class="w">          </span><span class="nt">4x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.609</span>
<span class="w">          </span><span class="nt">5x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.255</span>
<span class="w">          </span><span class="nt">6x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.044</span>
<span class="w">      </span><span class="nt">stage_positions</span><span class="p">:</span>
<span class="w">          </span><span class="nt">BABB</span><span class="p">:</span>
<span class="w">              </span><span class="nt">f</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">0.63x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">                  </span><span class="nt">1x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                  </span><span class="nt">2x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">                  </span><span class="nt">3x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">                  </span><span class="nt">4x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">                  </span><span class="nt">5x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">                  </span><span class="nt">6x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
</pre></div>
</div>
</section>
</section>
<section id="synthetic-zoom">
<span id="id23"></span><h3>Synthetic Zoom<a class="headerlink" href="#synthetic-zoom" title="Permalink to this heading"></a></h3>
<section id="id24">
<h4>Configuration File<a class="headerlink" href="#id24" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zoom</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">synthetic</span>
<span class="w">    </span><span class="nt">servo_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COM18</span>
<span class="w">    </span><span class="nt">baudrate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000000</span>

<span class="nt">microscopes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">microscope_name</span><span class="p">:</span>
<span class="w">    </span><span class="nt">zoom</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zoom</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">synthetic</span>
<span class="w">        </span><span class="nt">servo_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">position</span><span class="p">:</span>
<span class="w">        </span><span class="nt">36X</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">pixel_size</span><span class="p">:</span>
<span class="w">        </span><span class="nt">36X</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.180</span>
<span class="w">      </span><span class="nt">stage_positions</span><span class="p">:</span>
<span class="w">        </span><span class="nt">BABB</span><span class="p">:</span>
<span class="w">          </span><span class="nt">f</span><span class="p">:</span>
<span class="w">            </span><span class="nt">36X</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="deformable-mirrors">
<h2>Deformable Mirrors<a class="headerlink" href="#deformable-mirrors" title="Permalink to this heading"></a></h2>
<section id="imagine-optic">
<h3>Imagine Optic<a class="headerlink" href="#imagine-optic" title="Permalink to this heading"></a></h3>
<p>We currently have support for a
<a class="reference external" href="https://www.imagine-optic.com/products/deformable-mirror-mirao-52e/">Mirao 52E</a>.
The <code class="docutils literal notranslate"><span class="pre">flat_path</span></code> provides a path to a system correction <code class="docutils literal notranslate"><span class="pre">.wcs</span></code> file, an Imagine
Optic proprietary file that stores actuator voltages and corresponding Zernike
coefficients.</p>
<section id="id25">
<h4>Configuration File<a class="headerlink" href="#id25" title="Permalink to this heading"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">mirror</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ImagineOpticsMirror</span>

<span class="nt">mirror</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hardware</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mirror</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ImagineOpticsMirror</span>
<span class="w">      </span><span class="nt">flat_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">D:\WaveKitX64\MirrorFiles\BeadsCoverslip_20231212.wcs</span>
<span class="w">    </span><span class="nt">n_modes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hardware_home.html" class="btn btn-neutral float-left" title="Hardware" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="implementations.html" class="btn btn-neutral float-right" title="Microscope Implementations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Dean Lab, UT Southwestern Medical Center.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>