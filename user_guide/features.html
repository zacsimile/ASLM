<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reconfigurable Acquisitions Using Features &mdash; navigate 0.0.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Case Studies" href="case_studies/case_studies_home.html" />
    <link rel="prev" title="Acquiring Data" href="acquiring_guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            navigate
              <img src="../_static/mic.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_installation.html">Software Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i_want_to.html">I Want To…</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hardware/hardware_home.html">Supported Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_formats.html">Supported File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_walkthrough.html">User Interface Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_microscope.html">Setting Up A Microscope</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="acquiring_home.html">Acquiring Data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="acquiring_guide.html">Acquiring Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Reconfigurable Acquisitions Using Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-are-features">What are features?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#customizing-feature-functionality-in-the-gui">Customizing Feature Functionality in the GUI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loading-custom-functions">Loading Custom Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-custom-feature-list-in-the-gui">Creating a Custom Feature List in the GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#editing-feature-lists-on-the-fly">Editing Feature Lists on the Fly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deleting-feature-lists">Deleting Feature Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-representation-of-feature-lists">Text Representation of Feature Lists</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="case_studies/case_studies_home.html">Case Studies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/software_architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributing_guidelines.html">Contributing Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/feature_container.html">Feature Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi.html">REST-API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugin/plugin_home.html">Plugin Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TheDeanLab/navigate-plugin-template">navigate Plugin Template</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TheDeanLab/navigate-confocal-projection">navigate Confocal Projection Plugin</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TheDeanLab/navigate-at-scale">navigate at Scale</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TheDeanLab/navigate-mmcore-plugin">navigate MMCore Plugin</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TheDeanLab/navigate-ilastik-server">navigate ilastik Server</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../implementations/implementations.html">Implemented Microscopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Software API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">navigate</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="acquiring_home.html">Acquiring Data</a></li>
      <li class="breadcrumb-item active">Reconfigurable Acquisitions Using Features</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/features.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reconfigurable-acquisitions-using-features">
<h1>Reconfigurable Acquisitions Using Features<a class="headerlink" href="#reconfigurable-acquisitions-using-features" title="Permalink to this heading"></a></h1>
<section id="what-are-features">
<h2>What are features?<a class="headerlink" href="#what-are-features" title="Permalink to this heading"></a></h2>
<p><strong>navigate</strong> allows users to reconfigure acquisition routines within the GUI by chaining
so-called “features” together in sequence. A feature is the name given to a single
acquisition unit such as <code class="docutils literal notranslate"><span class="pre">Snap</span></code>, which snaps an image, or
<code class="docutils literal notranslate"><span class="pre">MoveToNextPositionInMultiPositionTable</span></code>, which moves the stage to the next imaging
position indicated in the <span class="guilabel">Multiposition Table</span>. Some acquisition units, such as
<code class="docutils literal notranslate"><span class="pre">Autofocus</span></code> or <code class="docutils literal notranslate"><span class="pre">ZStackAcquisition</span></code> have a bit more going on under the hood, but can
be used in the same way.</p>
</section>
<hr class="docutils" />
<section id="customizing-feature-functionality-in-the-gui">
<h2>Customizing Feature Functionality in the GUI<a class="headerlink" href="#customizing-feature-functionality-in-the-gui" title="Permalink to this heading"></a></h2>
<p>Features can be optionally customized within the GUI. For example instead of
reprogramming a feature and loading it again, we can swap Python functions in
and out of features. This can be helpful, e.g., when you are prototyping a function
to automatically detect an object within an image and want to try a few different
options.</p>
<hr class="docutils" />
<section id="loading-custom-functions">
<h3>Loading Custom Functions<a class="headerlink" href="#loading-custom-functions" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>You can load customized functions in the software by selecting the menu
<span class="menuselection">Features ‣ Advanced Setting</span>.</p>
<img alt="../_images/step_10.png" src="../_images/step_10.png" />
</li>
<li><p>In the <span class="guilabel">Advanced Setting</span> popup window, choose the feature name with which
you want to use the dynamic customized functions as feature parameters.</p>
<img alt="../_images/step_11.png" src="../_images/step_11.png" />
<img alt="../_images/step_12.png" src="../_images/step_12.png" />
</li>
<li><p>Click <span class="guilabel">Add</span>, A new line will appear and allow you to edit the parameter
options. Type the function name which is defined in your python file.</p>
<img alt="../_images/step_13.png" src="../_images/step_13.png" />
</li>
<li><p>Then click <span class="guilabel">Load</span> to choose your Python file.</p>
<img alt="../_images/step_14.png" src="../_images/step_14.png" />
</li>
<li><p>When you run a feature list containing the feature you just set, the new function
name will appear and you can choose the one you just added.</p>
<img alt="../_images/step_15.png" src="../_images/step_15.png" />
</li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="creating-a-custom-feature-list-in-the-gui">
<h2>Creating a Custom Feature List in the GUI<a class="headerlink" href="#creating-a-custom-feature-list-in-the-gui" title="Permalink to this heading"></a></h2>
<p>Once you have loaded your feature list, the next step is to use it in combination with
other features to create an intelligent acquisition workflow. To do this, you will
need to create a new feature list that combines your custom feature with other
features:</p>
<ol class="arabic">
<li><p>Select <span class="menuselection">Features ‣ Add Customized Feature List</span>. This will open a
new dialog box that allows you to create a new feature list.</p></li>
<li><p>Provide the feature list with a <span class="guilabel">Feature List Name</span> of your choice, and
type the feature list content (which must be a list object). The feature list
content could be the whole feature list or just a simple feature name. In this
example, the feature list name is <code class="docutils literal notranslate"><span class="pre">Feature</span> <span class="pre">Example</span> <span class="pre">2</span></code>, and the content is a
simple feature name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">PrepareNextChannel</span><span class="p">}]</span>
</pre></div>
</div>
<p>Once you select <cite>Preview</cite>, the feature list will be displayed in the
<span class="guilabel">Preview</span> window. If you are satisfied with the feature list, select
<cite>OK</cite> to save it.</p>
<img alt="../_images/step_3.png" src="../_images/step_3.png" />
</li>
<li><p>You can edit the list of features directly by modifying the text, or through a
popup menu that is available by right clicking the feature tile. The popup menu
allows you to add a new feature, delete a feature, or edit a feature. In this
example, click <span class="guilabel">Insert After</span>, and a new feature <code class="docutils literal notranslate"><span class="pre">PrepareNextChannel</span></code>
will be inserted by default.</p>
<img alt="../_images/step_4.png" src="../_images/step_4.png" />
<img alt="../_images/step_5.png" src="../_images/step_5.png" />
</li>
<li><p>To change the identity of the inserted feature, you can select a different feature
form the drop-down menu. For example, the feature can be changed from
<code class="docutils literal notranslate"><span class="pre">PrepareNextChannel</span></code> to <code class="docutils literal notranslate"><span class="pre">LoopByCount</span></code>. The parameters of the feature can be
changed automatically in the popup window.</p>
<img alt="../_images/step_6.png" src="../_images/step_6.png" />
</li>
<li><p>If you click the preview button, a graphical representation of the feature list will
be displayed.</p>
<img alt="../_images/step_7.png" src="../_images/step_7.png" />
</li>
</ol>
<ol class="arabic" start="6">
<li><p>If you want a loop structure, type a pair of parentheses around the features, then
click <span class="guilabel">Preview</span>. Given this design, you can loop through arbitrary
features in a user-selected format.</p>
<img alt="How to create a custom feature list." src="../_images/step_8.png" />
</li>
<li><p>After editing the feature list, click <span class="guilabel">Add</span>. The new feature list will
show up under the <span class="guilabel">Features</span> menu.</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="editing-feature-lists-on-the-fly">
<h2>Editing Feature Lists on the Fly<a class="headerlink" href="#editing-feature-lists-on-the-fly" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Select the feature list you want to run, choose “Customized” acquisition mode, and
then click <span class="guilabel">Acquire</span>. A <span class="guilabel">Feature List Configuration</span> popup window will show up. In this
popup window, you can see the structure of the selected feature list.</p>
<img alt="../_images/step_16.png" src="../_images/step_16.png" />
<img alt="../_images/step_17.png" src="../_images/step_17.png" />
<img alt="../_images/step_18.png" src="../_images/step_18.png" />
</li>
<li><p>Click one feature in the preview window, a <span class="guilabel">Feature Parameters</span> window
will show up. Then set the desired parameters (e.g., <span class="guilabel">planes</span>
in this screenshot). Close the <span class="guilabel">Feature Parameters</span> window.</p>
<img alt="../_images/step_19.png" src="../_images/step_19.png" />
</li>
<li><p>Click <span class="guilabel">Confirm</span>. The feature list will start to run.</p>
<img alt="../_images/step_20.png" src="../_images/step_20.png" />
</li>
</ol>
</section>
<hr class="docutils" />
<section id="deleting-feature-lists">
<h2>Deleting Feature Lists<a class="headerlink" href="#deleting-feature-lists" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Select the feature list you want to delete in the <span class="guilabel">Features</span> menu.</p></li>
<li><p>Then, go back to the <span class="guilabel">Features</span> menu and select
<span class="guilabel">Delete Selected Feature</span> The feature list will be removed from the menu
and the software.</p>
<img alt="../_images/step_9.png" src="../_images/step_9.png" />
</li>
</ol>
</section>
<hr class="docutils" />
<section id="text-representation-of-feature-lists">
<h2>Text Representation of Feature Lists<a class="headerlink" href="#text-representation-of-feature-lists" title="Permalink to this heading"></a></h2>
<p>At the bottom of each of the <span class="guilabel">Feature List Configuration</span> frames above, there
is a text box with a textual representation of the feature list. As an alternative to
point-and-click editing, a user can update feature lists by editing this textual
representation and then pressing <span class="guilabel">Preview</span>.</p>
<p>The square brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code> create a sequence of events to run in the feature container.
The <code class="docutils literal notranslate"><span class="pre">{}</span></code> braces contain features. The parentheses <code class="docutils literal notranslate"><span class="pre">()</span></code> indicate a loop.</p>
<p>As an example, let’s look at the feature list that describes the
<a class="reference internal" href="acquiring_guide.html#continuous-scan"><span class="std std-ref">Continuous Scan</span></a> mode:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">PrepareNextChannel</span><span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">LoopByCount</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;experiment.MicroscopeState.selected_channels&quot;</span><span class="p">,),</span>
    <span class="p">},</span>
  <span class="p">)</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Here, we have a sequence defined by <code class="docutils literal notranslate"><span class="pre">[]</span></code> containing one element, a loop, indicated
by the closed parentheses. There are two features within this loop. One feature has the
name
<a class="reference internal" href="../_autosummary/navigate.model.features.common_features.PrepareNextChannel.html"><span class="doc">PrepareNextChannel</span></a>
and the other
<a class="reference internal" href="../_autosummary/navigate.model.features.common_features.LoopByCount.html"><span class="doc">LoopByCount</span></a>.
The parentheses indicate we will keep looping through both of these features until
stopping criteria is met. In this case, the looping will stop when <code class="docutils literal notranslate"><span class="pre">LoopByCount</span></code>
returns <code class="docutils literal notranslate"><span class="pre">False</span></code> due to running out of <code class="docutils literal notranslate"><span class="pre">selected_channels</span></code> to loop through. That is,
it will end once all <a class="reference internal" href="gui_walkthrough.html#channel-settings"><span class="std std-ref">selected channel</span></a> have
been imaged.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="acquiring_guide.html" class="btn btn-neutral float-left" title="Acquiring Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="case_studies/case_studies_home.html" class="btn btn-neutral float-right" title="Case Studies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Dean Lab, UT Southwestern Medical Center.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>